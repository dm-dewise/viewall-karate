{"failedCount":1,"prefixedPath":"classpath:viewall\/features\/GetRiskScoreAnalysis.feature","packageQualifiedName":"viewall.features.GetRiskScoreAnalysis","loopIndex":-1,"relativePath":"viewall\/features\/GetRiskScoreAnalysis.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":19019200,"startTime":1720084806060,"endTime":1720084806079,"millis":19.0192,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"def dataFile = read('..\/..\/data\/test1.json')"},"stepLog":"17:20:06.057 << lock released, cached callSingle: classpath:helpers\/GetToken.feature\n","callResults":[{"prefixedPath":"classpath:helpers\/GetToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-07-04 05:20:06 PM","durationMillis":1162.8812,"callArg":{"apiURL":"https:\/\/api-pagsubok.viewall.dk\/","keycloakURL":"https:\/\/dev-iam-viewall.westeurope.cloudapp.azure.com\/realms\/ViewAll\/protocol\/openid-connect\/token"},"failedCount":0,"packageQualifiedName":"helpers.GetToken","relativePath":"helpers\/GetToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":193630700,"startTime":1720084804892,"endTime":1720084805086,"millis":193.6307,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"configure ssl = true"},"stepLog":"17:20:04.864 karate.env system property was: null \n17:20:04.869 >> lock acquired, begin callSingle: classpath:helpers\/GetToken.feature\n"},{"result":{"nanos":774000,"startTime":1720084805081,"endTime":1720084805082,"millis":0.774,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url keycloakURL"}},{"result":{"nanos":53856200,"startTime":1720084805081,"endTime":1720084805135,"millis":53.8562,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"form field grant_type = \"password\""}},{"result":{"nanos":570400,"startTime":1720084805143,"endTime":1720084805144,"millis":0.5704,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"form field client_id = \"ViewAll.WebApp\""}},{"result":{"nanos":624400,"startTime":1720084805143,"endTime":1720084805144,"millis":0.6244,"status":"passed"},"step":{"line":8,"prefix":"And","index":4,"text":"form field username = \"dbmigrino@gmail.com\""}},{"result":{"nanos":304300,"startTime":1720084805144,"endTime":1720084805144,"millis":0.3043,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"form field scope = \"email profile openid\""}},{"result":{"nanos":252500,"startTime":1720084805144,"endTime":1720084805144,"millis":0.2525,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"form field password = \"Gr33nT34!234\""}},{"result":{"nanos":910542000,"startTime":1720084805145,"endTime":1720084806056,"millis":910.542,"status":"passed"},"step":{"line":11,"prefix":"When","index":7,"text":"method POST"},"stepLog":"17:20:05.217 request:\n1 > POST https:\/\/dev-iam-viewall.westeurope.cloudapp.azure.com\/realms\/ViewAll\/protocol\/openid-connect\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 126\n1 > Host: dev-iam-viewall.westeurope.cloudapp.azure.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=password&client_id=ViewAll.WebApp&username=dbmigrino%40gmail.com&scope=email+profile+openid&password=Gr33nT34%21234\n\n17:20:06.052 response time in milliseconds: 831\n1 < 200\n1 < Cache-Control: no-store\n1 < Pragma: no-cache\n1 < Set-Cookie: KEYCLOAK_LOCALE=; Version=1; Comment=Expiring cookie; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure; HttpOnly\n1 < Set-Cookie: KC_RESTART=; Version=1; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure; HttpOnly\n1 < Set-Cookie: KC_AUTH_STATE=; Version=1; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure\n1 < content-length: 3931\n1 < Content-Type: application\/json\n1 < Referrer-Policy: no-referrer\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-XSS-Protection: 1; mode=block\n{\"access_token\":\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZVzZnZTkxakpPZnZjWm9obkJmS1FCZnlLLTFKVE9Fa2h6N2lscVk3OS0wIn0.eyJleHAiOjE3MjAxNzEyMDYsImlhdCI6MTcyMDA4NDgwNiwianRpIjoiMjNjZjJlZTctNGIxNS00NmNiLTljZTgtZjhhYzQ2MjRlMTdlIiwiaXNzIjoiaHR0cHM6Ly9kZXYtaWFtLXZpZXdhbGwud2VzdGV1cm9wZS5jbG91ZGFwcC5henVyZS5jb20vcmVhbG1zL1ZpZXdBbGwiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMzJjYTZlYWYtOTQyZC00MDZiLWIxMTYtNTE2NTE1MTI0M2VhIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiVmlld0FsbC5XZWJBcHAiLCJzZXNzaW9uX3N0YXRlIjoiOWM2ZDE2MjYtMmFhMS00MzI5LTkwMGYtOTI5MzFmMWRlZWUwIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL3BhZ3N1Ym9rLnZpZXdhbGwuZGsiLCJodHRwczovL2xvY2FsaG9zdDozMDAwIiwiaHR0cHM6Ly9sb2NhbGhvc3Q6NzI4MS8qIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwLyoiLCJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbSIsImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS8qIiwiaHR0cDovL2xvY2FsaG9zdDozMDAxIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cHM6Ly9sb2NhbGhvc3Q6MzAwMC8qIl0sInNjb3BlIjoib3BlbmlkIGVtYWlsIHByb2ZpbGUiLCJzaWQiOiI5YzZkMTYyNi0yYWExLTQzMjktOTAwZi05MjkzMWYxZGVlZTAiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZG9iIjoiMTktMDQtMTk5NSIsInJvbGVzIjpbImRlZmF1bHQtcm9sZXMtdmlld2FsbCIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXSwibmFtZSI6IkFsYnVzIER1bWJsZWRvcmUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6IkFsYnVzIiwiZmFtaWx5X25hbWUiOiJEdW1ibGVkb3JlIiwiZW1haWwiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIn0.ghRmPVFwcF2H0MWsIPPwyW73mVJYdnbde3jF3KvZpR2_kxLyjO4nWW7YyymZTrCsQmBpFtZUU1QE4R2B4VNHUYx98AhS6tlBAljeuvncJxn2MFtNGMQA6KaqNsyRB4hzqxxrFgoXx4YybZd0u2YkcRfyHcca5x4XCrMj94dGxUkG72t5Vxige7-VPZlKvfxAPTjl3NXWPM7Piubt6Up2dZ5kCCZcp2Fw6xxVkOm__ygXT8vOhm88hSxi37IRJL1QI7ttjtnlCxvzU2JXprBUPn3vO7YJuOgfl_FGEzqSxhlpKeIJOxpJHJ09zLZ3lHJnEtGDR0Idr-VERxramT35UA\",\"expires_in\":86400,\"refresh_expires_in\":86400,\"refresh_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI3OGFiMzk4NS1mNjRlLTRjZTktOGQ4MC00YTJiYTRkNGE1YWIifQ.eyJleHAiOjE3MjAxNzEyMDYsImlhdCI6MTcyMDA4NDgwNiwianRpIjoiZTU4MjljYjMtNzZmMi00NjgwLWFlZTktYjk3ZmIyMTQ0OTBkIiwiaXNzIjoiaHR0cHM6Ly9kZXYtaWFtLXZpZXdhbGwud2VzdGV1cm9wZS5jbG91ZGFwcC5henVyZS5jb20vcmVhbG1zL1ZpZXdBbGwiLCJhdWQiOiJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbS9yZWFsbXMvVmlld0FsbCIsInN1YiI6IjMyY2E2ZWFmLTk0MmQtNDA2Yi1iMTE2LTUxNjUxNTEyNDNlYSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJWaWV3QWxsLldlYkFwcCIsInNlc3Npb25fc3RhdGUiOiI5YzZkMTYyNi0yYWExLTQzMjktOTAwZi05MjkzMWYxZGVlZTAiLCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwic2lkIjoiOWM2ZDE2MjYtMmFhMS00MzI5LTkwMGYtOTI5MzFmMWRlZWUwIn0.Z_dOpcjK1j0FuPamw-3Wg9PZDYhqf1ZQnDFGR8laK34\",\"token_type\":\"Bearer\",\"id_token\":\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZVzZnZTkxakpPZnZjWm9obkJmS1FCZnlLLTFKVE9Fa2h6N2lscVk3OS0wIn0.eyJleHAiOjE3MjAxNzEyMDYsImlhdCI6MTcyMDA4NDgwNiwiYXV0aF90aW1lIjowLCJqdGkiOiJkMzdiZGZiMy03NTJmLTRjMTAtOTVlOC00MTJiNWMxODkwYWIiLCJpc3MiOiJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbS9yZWFsbXMvVmlld0FsbCIsImF1ZCI6IlZpZXdBbGwuV2ViQXBwIiwic3ViIjoiMzJjYTZlYWYtOTQyZC00MDZiLWIxMTYtNTE2NTE1MTI0M2VhIiwidHlwIjoiSUQiLCJhenAiOiJWaWV3QWxsLldlYkFwcCIsInNlc3Npb25fc3RhdGUiOiI5YzZkMTYyNi0yYWExLTQzMjktOTAwZi05MjkzMWYxZGVlZTAiLCJhdF9oYXNoIjoibGJoNUxXbEdSNDE2cWRndng0aENvQSIsImFjciI6IjEiLCJzaWQiOiI5YzZkMTYyNi0yYWExLTQzMjktOTAwZi05MjkzMWYxZGVlZTAiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkFsYnVzIER1bWJsZWRvcmUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6IkFsYnVzIiwiZmFtaWx5X25hbWUiOiJEdW1ibGVkb3JlIiwiZW1haWwiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIn0.HDgPDeF0umCRE-l374XbeNExd6nxAMDFtBQf13eXeiUsxrkFeAdoQwvu-WtSwpIcr00Gh-JkihaX9kVEleyMsRMFTtSC8Ug30sjEKX-CTPpKnHfgf02iJl59HtpDozG7Df2Fc8yB0NAqnLPOhyMjysmm1jt2keAoRaJ8YdjRHq4vHVRu1NE6bF55xiy2S0QqhY5pUA_OkCy9wOlVRdOKGXPkD9fR-gyoKwkYjgqcEcPe6_VXZcCY2x9oGVyrR89gB-0j0I1NutFulph4t34feOfum3nq2m10Tr2quDnNPzZTcMzH3Yig3nv7TpaEZtw4QaioE2HFI21FUkowLSK16Q\",\"not-before-policy\":1706094525,\"session_state\":\"9c6d1626-2aa1-4329-900f-92931f1deee0\",\"scope\":\"openid email profile\"}\n\n"},{"result":{"nanos":11800,"startTime":1720084806055,"endTime":1720084806055,"millis":0.0118,"status":"passed"},"step":{"line":12,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2314900,"startTime":1720084806055,"endTime":1720084806057,"millis":2.3149,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"def authToken = response.access_token"}}],"executorName":"pool-2-thread-2","line":3,"name":"Getting user token","description":"","durationMillis":1162.8812,"startTime":1720084804885,"failed":false,"refId":"[1:3]","endTime":1720084806057,"exampleIndex":-1}],"name":"Get Token","passedCount":1}]},{"result":{"nanos":1112400,"startTime":1720084806073,"endTime":1720084806074,"millis":1.1124,"status":"passed"},"step":{"comments":["### Looping for Business Ownerships"],"background":true,"line":8,"prefix":"*","index":1,"text":"def business_ownerships = dataFile.business_ownership"}},{"result":{"nanos":18518300,"errorMessage":"feature call loop failed at index: 0, js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9","startTime":1720084806073,"endTime":1720084806092,"millis":18.5183,"status":"failed"},"step":{"background":true,"line":9,"prefix":"*","index":2,"text":"def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships"},"stepLog":"17:20:06.088 classpath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n* def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships\nfeature call loop failed at index: 0, js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10\n17:20:06.088 classpath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n* def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships\nfeature call loop failed at index: 0, js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n","callResults":[{"prefixedPath":"classpath:viewall\/features\/CreateBusinessOwnership.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2024-07-04 05:20:06 PM","durationMillis":4.7917,"callArg":{"description ":"company 1","estimated_value":10000000,"ownership_pct":35},"failedCount":1,"packageQualifiedName":"viewall.features.CreateBusinessOwnership","relativePath":"viewall\/features\/CreateBusinessOwnership.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":324900,"startTime":1720084806088,"endTime":1720084806088,"millis":0.3249,"status":"passed"},"step":{"background":true,"line":3,"prefix":"Given","index":0,"text":"url apiURL"}},{"result":{"nanos":1258700,"startTime":1720084806088,"endTime":1720084806089,"millis":1.2587,"status":"passed"},"step":{"line":8,"prefix":"*","index":0,"text":"def result = function(estimated_value, ownership_pct) { return estimated_value * ownership_pct; }"}},{"result":{"nanos":1568800,"startTime":1720084806088,"endTime":1720084806090,"millis":1.5688,"status":"passed"},"step":{"line":9,"prefix":"And","index":1,"text":"print result"},"stepLog":"17:20:06.088 [print] com.intuit.karate.graal.JsFunction$Instantiable@2788792c \n"},{"result":{"nanos":1639300,"errorMessage":"js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10","startTime":1720084806088,"endTime":1720084806090,"millis":1.6393,"status":"failed"},"step":{"line":10,"prefix":"And","index":2,"text":"print a"},"stepLog":"17:20:06.088 classpath:viewall\/features\/CreateBusinessOwnership.feature:10\nAnd print a\njs failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10\n"},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"And","index":3,"text":"print b"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":12,"prefix":"Given","index":4,"text":"path '\/api\/v1\/business-ownerships'"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"endLine":23,"line":13,"prefix":"And","docString":"{\n    \"name\": \"BO Karate API Test\",\n    \"vatNumber\": \"12345678\",\n    \"companyValue\": \"#(estimated_value)\",\n    \"estimatedValue\": \"#(estimated_value)\",\n    \"ownershipPercentage\": \"#(ownership_pct)\",\n    \"amountSaved\": \"100\"\n}","index":5,"text":"request"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":24,"prefix":"When","index":6,"text":"method POST"}}],"line":7,"description":"","durationMillis":4.7917,"failed":true,"error":"js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10","executorName":"pool-2-thread-2","name":"Create Business Ownership","startTime":1720084806088,"refId":"[1:7]","endTime":1720084806088,"exampleIndex":-1}],"name":"Risks Analysis - Create Business Ownership","passedCount":0}]},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"Given","index":0,"text":"url apiURL"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Given","index":1,"text":"path 'api\/v1\/risks\/score'"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"When","index":2,"text":"method GET"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"*","index":4,"text":"def score = response.riskScore"}},{"result":{"nanos":0,"startTime":1720084806088,"endTime":1720084806088,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"Then","index":5,"text":"print score"}}],"line":37,"description":"","durationMillis":38.6499,"failed":true,"error":"feature call loop failed at index: 0, js failed:\n>>>>\n01: karate.log('[print]',a)\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"a\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:10\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9","executorName":"pool-2-thread-2","name":"Get My Latest Risk Score","startTime":1720084804765,"refId":"[1:37]","endTime":1720084806088,"exampleIndex":-1}],"callDepth":0,"name":"Get Risks Score Analysis","description":"","resultDate":"2024-07-04 05:20:06 PM","durationMillis":38.6499,"passedCount":0}