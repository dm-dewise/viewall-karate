{"failedCount":1,"prefixedPath":"classpath:viewall\/features\/GetRiskScoreAnalysis.feature","packageQualifiedName":"viewall.features.GetRiskScoreAnalysis","loopIndex":-1,"relativePath":"viewall\/features\/GetRiskScoreAnalysis.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":20416800,"startTime":1720083658963,"endTime":1720083658983,"millis":20.4168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"def dataFile = read('..\/..\/data\/test1.json')"},"stepLog":"17:00:58.958 << lock released, cached callSingle: classpath:helpers\/GetToken.feature\n","callResults":[{"prefixedPath":"classpath:helpers\/GetToken.feature","loopIndex":-1,"callDepth":1,"description":"","resultDate":"2024-07-04 05:00:59 PM","durationMillis":1275.6569,"callArg":{"apiURL":"https:\/\/api-pagsubok.viewall.dk\/","keycloakURL":"https:\/\/dev-iam-viewall.westeurope.cloudapp.azure.com\/realms\/ViewAll\/protocol\/openid-connect\/token"},"failedCount":0,"packageQualifiedName":"helpers.GetToken","relativePath":"helpers\/GetToken.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":198855000,"startTime":1720083657679,"endTime":1720083657878,"millis":198.855,"status":"passed"},"step":{"line":4,"prefix":"*","index":0,"text":"configure ssl = true"},"stepLog":"17:00:57.650 karate.env system property was: null \n17:00:57.656 >> lock acquired, begin callSingle: classpath:helpers\/GetToken.feature\n"},{"result":{"nanos":1048600,"startTime":1720083657880,"endTime":1720083657881,"millis":1.0486,"status":"passed"},"step":{"line":5,"prefix":"Given","index":1,"text":"url keycloakURL"}},{"result":{"nanos":67727100,"startTime":1720083657881,"endTime":1720083657949,"millis":67.7271,"status":"passed"},"step":{"line":6,"prefix":"And","index":2,"text":"form field grant_type = \"password\""}},{"result":{"nanos":780000,"startTime":1720083657950,"endTime":1720083657951,"millis":0.78,"status":"passed"},"step":{"line":7,"prefix":"And","index":3,"text":"form field client_id = \"ViewAll.WebApp\""}},{"result":{"nanos":368100,"startTime":1720083657950,"endTime":1720083657950,"millis":0.3681,"status":"passed"},"step":{"line":8,"prefix":"And","index":4,"text":"form field username = \"dbmigrino@gmail.com\""}},{"result":{"nanos":287500,"startTime":1720083657951,"endTime":1720083657951,"millis":0.2875,"status":"passed"},"step":{"line":9,"prefix":"And","index":5,"text":"form field scope = \"email profile openid\""}},{"result":{"nanos":265800,"startTime":1720083657951,"endTime":1720083657951,"millis":0.2658,"status":"passed"},"step":{"line":10,"prefix":"And","index":6,"text":"form field password = \"Gr33nT34!234\""}},{"result":{"nanos":1003979700,"startTime":1720083657951,"endTime":1720083658955,"millis":1003.9797,"status":"passed"},"step":{"line":11,"prefix":"When","index":7,"text":"method POST"},"stepLog":"17:00:58.054 request:\n1 > POST https:\/\/dev-iam-viewall.westeurope.cloudapp.azure.com\/realms\/ViewAll\/protocol\/openid-connect\/token\n1 > Content-Type: application\/x-www-form-urlencoded\n1 > Content-Length: 126\n1 > Host: dev-iam-viewall.westeurope.cloudapp.azure.com\n1 > Connection: Keep-Alive\n1 > User-Agent: Apache-HttpClient\/4.5.14 (Java\/11.0.23)\n1 > Accept-Encoding: gzip,deflate\ngrant_type=password&client_id=ViewAll.WebApp&username=dbmigrino%40gmail.com&scope=email+profile+openid&password=Gr33nT34%21234\n\n17:00:58.952 response time in milliseconds: 895\n1 < 200\n1 < Cache-Control: no-store\n1 < Pragma: no-cache\n1 < Set-Cookie: KEYCLOAK_LOCALE=; Version=1; Comment=Expiring cookie; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure; HttpOnly\n1 < Set-Cookie: KC_RESTART=; Version=1; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure; HttpOnly\n1 < Set-Cookie: KC_AUTH_STATE=; Version=1; Expires=Thu, 01-Jan-1970 00:00:10 GMT; Max-Age=0; Path=\/realms\/ViewAll\/; Secure\n1 < content-length: 3931\n1 < Content-Type: application\/json\n1 < Referrer-Policy: no-referrer\n1 < Strict-Transport-Security: max-age=31536000; includeSubDomains\n1 < X-Content-Type-Options: nosniff\n1 < X-Frame-Options: SAMEORIGIN\n1 < X-XSS-Protection: 1; mode=block\n{\"access_token\":\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZVzZnZTkxakpPZnZjWm9obkJmS1FCZnlLLTFKVE9Fa2h6N2lscVk3OS0wIn0.eyJleHAiOjE3MjAxNzAwNTksImlhdCI6MTcyMDA4MzY1OSwianRpIjoiNmFiNzJkZjItZGMyMC00MDg3LWJiYTYtOGUyMDRmZjJlOGQ4IiwiaXNzIjoiaHR0cHM6Ly9kZXYtaWFtLXZpZXdhbGwud2VzdGV1cm9wZS5jbG91ZGFwcC5henVyZS5jb20vcmVhbG1zL1ZpZXdBbGwiLCJhdWQiOiJhY2NvdW50Iiwic3ViIjoiMzJjYTZlYWYtOTQyZC00MDZiLWIxMTYtNTE2NTE1MTI0M2VhIiwidHlwIjoiQmVhcmVyIiwiYXpwIjoiVmlld0FsbC5XZWJBcHAiLCJzZXNzaW9uX3N0YXRlIjoiZDcyZDAyZjEtZDhjOC00YzU0LTlmMTktODQxYjZkZGY0ZTVlIiwiYWNyIjoiMSIsImFsbG93ZWQtb3JpZ2lucyI6WyJodHRwczovL3BhZ3N1Ym9rLnZpZXdhbGwuZGsiLCJodHRwczovL2xvY2FsaG9zdDozMDAwIiwiaHR0cHM6Ly9sb2NhbGhvc3Q6NzI4MS8qIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwLyoiLCJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbSIsImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMS8qIiwiaHR0cDovL2xvY2FsaG9zdDozMDAxIiwiaHR0cDovL2xvY2FsaG9zdDozMDAwIiwiaHR0cHM6Ly9sb2NhbGhvc3Q6MzAwMC8qIl0sInNjb3BlIjoib3BlbmlkIGVtYWlsIHByb2ZpbGUiLCJzaWQiOiJkNzJkMDJmMS1kOGM4LTRjNTQtOWYxOS04NDFiNmRkZjRlNWUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwiZG9iIjoiMTktMDQtMTk5NSIsInJvbGVzIjpbImRlZmF1bHQtcm9sZXMtdmlld2FsbCIsIm9mZmxpbmVfYWNjZXNzIiwidW1hX2F1dGhvcml6YXRpb24iXSwibmFtZSI6IkFsYnVzIER1bWJsZWRvcmUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6IkFsYnVzIiwiZmFtaWx5X25hbWUiOiJEdW1ibGVkb3JlIiwiZW1haWwiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIn0.Y7HqRtLD-GaIF9Jp_bZV4LQk_J2Ek_yTL7_nkNeijp_E5xgUQqwRPCAyaP2YXLhInyerhjP6ALOicpz2lzTFcVE71GSOy6D0Oxx4_1Zz18B2nszOkPJH5XF5EiUaGUWn-ns0yyOAwz4dLExbZ4Hc9NPlY0CMbKI952yW4EWI6haMBWH8BHsNYsnmjI8n9Yg76HOTWWnVFiZwBpBmr7jmlv2iJbFbD8zeNKM4YUueMed71DshJiIk10Gje89rvYFum6ZG22TxjMQJyoyALhGpIusHwE4S57sa5lTN6wvalVTQznIiwuP8zzlWsJxAPyMuSZ3MuWolmkLjhCMwtHHffA\",\"expires_in\":86400,\"refresh_expires_in\":86400,\"refresh_token\":\"eyJhbGciOiJIUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICI3OGFiMzk4NS1mNjRlLTRjZTktOGQ4MC00YTJiYTRkNGE1YWIifQ.eyJleHAiOjE3MjAxNzAwNTksImlhdCI6MTcyMDA4MzY1OSwianRpIjoiM2EwZDY0MmUtNWU4MS00NTRlLTg2NGMtZjE4NDBiMzE0NGUzIiwiaXNzIjoiaHR0cHM6Ly9kZXYtaWFtLXZpZXdhbGwud2VzdGV1cm9wZS5jbG91ZGFwcC5henVyZS5jb20vcmVhbG1zL1ZpZXdBbGwiLCJhdWQiOiJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbS9yZWFsbXMvVmlld0FsbCIsInN1YiI6IjMyY2E2ZWFmLTk0MmQtNDA2Yi1iMTE2LTUxNjUxNTEyNDNlYSIsInR5cCI6IlJlZnJlc2giLCJhenAiOiJWaWV3QWxsLldlYkFwcCIsInNlc3Npb25fc3RhdGUiOiJkNzJkMDJmMS1kOGM4LTRjNTQtOWYxOS04NDFiNmRkZjRlNWUiLCJzY29wZSI6Im9wZW5pZCBlbWFpbCBwcm9maWxlIiwic2lkIjoiZDcyZDAyZjEtZDhjOC00YzU0LTlmMTktODQxYjZkZGY0ZTVlIn0.O9d8ndkDohCuUgmNOxyWDJiqr50esKCFIo6XgRmZCY8\",\"token_type\":\"Bearer\",\"id_token\":\"eyJhbGciOiJSUzI1NiIsInR5cCIgOiAiSldUIiwia2lkIiA6ICJZVzZnZTkxakpPZnZjWm9obkJmS1FCZnlLLTFKVE9Fa2h6N2lscVk3OS0wIn0.eyJleHAiOjE3MjAxNzAwNTksImlhdCI6MTcyMDA4MzY1OSwiYXV0aF90aW1lIjowLCJqdGkiOiJlY2M4OGUxNC01YWRlLTQxYzQtOTE5MS0wZThkYjI3MGJlYjEiLCJpc3MiOiJodHRwczovL2Rldi1pYW0tdmlld2FsbC53ZXN0ZXVyb3BlLmNsb3VkYXBwLmF6dXJlLmNvbS9yZWFsbXMvVmlld0FsbCIsImF1ZCI6IlZpZXdBbGwuV2ViQXBwIiwic3ViIjoiMzJjYTZlYWYtOTQyZC00MDZiLWIxMTYtNTE2NTE1MTI0M2VhIiwidHlwIjoiSUQiLCJhenAiOiJWaWV3QWxsLldlYkFwcCIsInNlc3Npb25fc3RhdGUiOiJkNzJkMDJmMS1kOGM4LTRjNTQtOWYxOS04NDFiNmRkZjRlNWUiLCJhdF9oYXNoIjoic3pIdkNzcTdLdGdXQ0doUWNDaWVmUSIsImFjciI6IjEiLCJzaWQiOiJkNzJkMDJmMS1kOGM4LTRjNTQtOWYxOS04NDFiNmRkZjRlNWUiLCJlbWFpbF92ZXJpZmllZCI6dHJ1ZSwibmFtZSI6IkFsYnVzIER1bWJsZWRvcmUiLCJwcmVmZXJyZWRfdXNlcm5hbWUiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIiwiZ2l2ZW5fbmFtZSI6IkFsYnVzIiwiZmFtaWx5X25hbWUiOiJEdW1ibGVkb3JlIiwiZW1haWwiOiJkYm1pZ3Jpbm9AZ21haWwuY29tIn0.r_hebbOJVxRVzuGaHS9s75lhGmLBPkiMlNPfVuqgH3WRmorT-YSmVp_rj7l8zGigrQrCfVedLfUGUeeGfuEfzQf4dMG5mq93CrmXLcrVLnAzTnj9_JkpOJ1BKI9vFh65qhE8wsLb_zVhB5k0BdyLPD5VLwjSYJCa4izlh82EjhV4FmruyLjSEoqVa6EajIbyK6d42KnkNwRD40Lo2Uc5oUAVZgZ8la3DPHaN13v3zntf8Cm6kKxwMiFCJTw-J_xGCS2Lz2o86oac1jMA-Lk_OX2sfMZKa-9fVr3Jnix2BkVEfs0qMndbNM8QeYTjH7YrNEWdwUH4n-k80lIbKjBo5A\",\"not-before-policy\":1706094525,\"session_state\":\"d72d02f1-d8c8-4c54-9f19-841b6ddf4e5e\",\"scope\":\"openid email profile\"}\n\n"},{"result":{"nanos":27200,"startTime":1720083658955,"endTime":1720083658955,"millis":0.0272,"status":"passed"},"step":{"line":12,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2317900,"startTime":1720083658955,"endTime":1720083658957,"millis":2.3179,"status":"passed"},"step":{"line":13,"prefix":"*","index":9,"text":"def authToken = response.access_token"}}],"executorName":"pool-2-thread-2","line":3,"name":"Getting user token","description":"","durationMillis":1275.6569,"startTime":1720083657672,"failed":false,"refId":"[1:3]","endTime":1720083658958,"exampleIndex":-1}],"name":"Get Token","passedCount":1}]},{"result":{"nanos":1901400,"startTime":1720083658984,"endTime":1720083658986,"millis":1.9014,"status":"passed"},"step":{"comments":["### Looping for Business Ownerships"],"background":true,"line":8,"prefix":"*","index":1,"text":"def business_ownerships = dataFile.business_ownership"}},{"result":{"nanos":13295000,"errorMessage":"feature call loop failed at index: 0, js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9","startTime":1720083658986,"endTime":1720083658999,"millis":13.295,"status":"failed"},"step":{"background":true,"line":9,"prefix":"*","index":2,"text":"def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships"},"stepLog":"17:00:58.999 classpath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n* def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships\nfeature call loop failed at index: 0, js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8\n17:00:59.000 classpath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n* def resultBO =  call read('CreateBusinessOwnership.feature') business_ownerships\nfeature call loop failed at index: 0, js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9\n","callResults":[{"prefixedPath":"classpath:viewall\/features\/CreateBusinessOwnership.feature","loopIndex":0,"callDepth":1,"description":"","resultDate":"2024-07-04 05:00:59 PM","durationMillis":3.1528,"callArg":{"description ":"company 1","estimated_value":10000000,"ownership_pct":35},"failedCount":1,"packageQualifiedName":"viewall.features.CreateBusinessOwnership","relativePath":"viewall\/features\/CreateBusinessOwnership.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":439300,"startTime":1720083658995,"endTime":1720083658995,"millis":0.4393,"status":"passed"},"step":{"background":true,"line":3,"prefix":"Given","index":0,"text":"url apiURL"}},{"result":{"nanos":2713500,"errorMessage":"js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8","startTime":1720083658995,"endTime":1720083658998,"millis":2.7135,"status":"failed"},"step":{"line":8,"prefix":"*","index":0,"text":"def a = response.estimated_value"},"stepLog":"17:00:58.999 classpath:viewall\/features\/CreateBusinessOwnership.feature:8\n* def a = response.estimated_value\njs failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8\n"},{"result":{"nanos":0,"startTime":1720083658999,"endTime":1720083658999,"millis":0.0,"status":"skipped"},"step":{"line":9,"prefix":"*","index":1,"text":"def b = response.ownership_pct"}},{"result":{"nanos":0,"startTime":1720083658999,"endTime":1720083658999,"millis":0.0,"status":"skipped"},"step":{"line":10,"prefix":"*","index":2,"text":"def result = a * b"}},{"result":{"nanos":0,"startTime":1720083658999,"endTime":1720083658999,"millis":0.0,"status":"skipped"},"step":{"line":11,"prefix":"Given","index":3,"text":"path '\/api\/v1\/business-ownerships'"}},{"result":{"nanos":0,"startTime":1720083658999,"endTime":1720083658999,"millis":0.0,"status":"skipped"},"step":{"endLine":22,"line":12,"prefix":"And","docString":"{\n    \"name\": \"BO Karate API Test\",\n    \"vatNumber\": \"12345678\",\n    \"companyValue\": \"#(estimated_value)\",\n    \"estimatedValue\": \"#(estimated_value)\",\n    \"ownershipPercentage\": \"#(ownership_pct)\",\n    \"amountSaved\": \"#(result)\"\n}","index":4,"text":"request"}},{"result":{"nanos":0,"startTime":1720083658999,"endTime":1720083658999,"millis":0.0,"status":"skipped"},"step":{"line":23,"prefix":"When","index":5,"text":"method POST"}}],"line":7,"description":"","durationMillis":3.1528,"failed":true,"error":"js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8","executorName":"pool-2-thread-2","name":"Create Business Ownership","startTime":1720083658995,"refId":"[1:7]","endTime":1720083658999,"exampleIndex":-1}],"name":"Risks Analysis - Create Business Ownership","passedCount":0}]},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":38,"prefix":"Given","index":0,"text":"url apiURL"}},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":39,"prefix":"Given","index":1,"text":"path 'api\/v1\/risks\/score'"}},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":40,"prefix":"When","index":2,"text":"method GET"}},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":41,"prefix":"Then","index":3,"text":"status 200"}},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":42,"prefix":"*","index":4,"text":"def score = response.riskScore"}},{"result":{"nanos":0,"startTime":1720083659000,"endTime":1720083659000,"millis":0.0,"status":"skipped"},"step":{"line":43,"prefix":"Then","index":5,"text":"print score"}}],"line":37,"description":"","durationMillis":35.6132,"failed":true,"error":"feature call loop failed at index: 0, js failed:\n>>>>\n01: response.estimated_value\n<<<<\norg.graalvm.polyglot.PolyglotException: ReferenceError: \"response\" is not defined\n- <js>.:program(Unnamed:1)\n\nclasspath:viewall\/features\/CreateBusinessOwnership.feature:8\nclasspath:viewall\/features\/GetRiskScoreAnalysis.feature:9","executorName":"pool-2-thread-2","name":"Get My Latest Risk Score","startTime":1720083657553,"refId":"[1:37]","endTime":1720083659000,"exampleIndex":-1}],"callDepth":0,"name":"Get Risks Score Analysis","description":"","resultDate":"2024-07-04 05:00:59 PM","durationMillis":35.6132,"passedCount":0}